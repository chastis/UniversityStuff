<!DOCTYPE html>

<style>
.column {
	//position: absolute;
	height: 200px;
	display: inline-block;
	background-color: #0099cc;
	margin: 5px;
	border: 1px solid black;
}

.block {
	padding: 10px;
	border: 1px solid black;
}

.clearfix {
	border: 0px;
}
</style>


<head>
	<script>
	var a = 0;
	var c = '=';
	function change() {
		var n = form1.amount.value;
		if (isNaN(n - 1))
			{
				alert("Something get wrong...");
				return;
			}
	}
	function my_switch() {
		switch (c) {
                case "+":
                    form1.amount.value = String(Number(a) + Number(form1.amount.value));
                    break;
                case "-":
                    form1.amount.value = String(Number(a) - Number(form1.amount.value));
                    break;
                case "*":
                    form1.amount.value = String(Number(a) * Number(form1.amount.value));
                    break;
                case "/":
                    form1.amount.value = String(Number(a) / Number(form1.amount.value));
                    break;
                case "%":
                    form1.amount.value = String(Number(a) % Number(form1.amount.value));
                    break;
                case "^":
                    form1.amount.value = String(Math.pow(Number(a), Number(form1.amount.value)));
                    break;
            };
		a = form1.amount.value;
		c = "=";
		
	}
	function plus(){
		if (c == '=') {
			a = form1.amount.value;
			c = '+';
		} else {
			my_switch();
			c = '+';
		}
	}
	function minus(){
		if (c == '=') {
			a = form1.amount.value;
			c = '-';
		} else {
			my_switch();
			c = '-';
		}
	}
	function product(){
		if (c == '=') {
			a = form1.amount.value;
			c = '*';
		} else {
			my_switctch();
			c = '*';
		}
	}
	function division(){
		if (c == '=') {
			a = form1.amount.value;
			c = '/';
		} else {
			my_switch();
			c = '/';
		}
	}
	function percent(){
		if (c == '=') {
			a = form1.amount.value;
			c = '%';
		} else {
			my_switch();
			c = '%';
		}
	}
	function sqrt(){
		if (c == '=') {
			a = form1.amount.value;
			form1.amount.value = Math.sqrt(a);
		} else {
			my_switch();
		}
	}
	function pow(){
		if (c == '=') {
			a = form1.amount.value;
			c = '^';
		} else {
			my_switch();
			c = '^';
		}
	}
	function answer(){
		my_switch();
	}
	</script>
</head>

<body>
	<form name = "form1">
		<div class = "block">
			Калькулятор
			<div class = "block clearfix">
				<input type = "text" value="0" id = "amount" oninput = "change()">
			</div>
			<div class = "block clearfix">
				<input type = "button" value = "+" onclick = "plus()">
				<input type = "button" value = "-" onclick = "minus()">
				<input type = "button" value = "*" onclick = "product()">
				<input type = "button" value = "/" onclick = "division()">
				<input type = "button" value = "%" onclick = "percent()">
				<input type = "button" value = "sqrt" onclick = "sqrt()">
				<input type = "button" value = "^" onclick = "pow()">
				<input type = "button" value = "=" onclick = "answer()">
			</div>
		</div>
	</form>
</body> 
